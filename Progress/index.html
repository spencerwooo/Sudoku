<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>开发历程 | Sudoku</title>
    <meta name="description" content="命令行交互的基础数独工具库">
    <link rel="icon" href="/Sudoku/favicon.png">
  <meta name="theme-color" content="#00ABE9">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-icon" href="/Sudoku/favicon.png">
  <meta name="msapplication-TileImage" content="/favicon.png">
  <meta name="msapplication-TileColor" content="#06BDFF">
    
    <link rel="preload" href="/Sudoku/assets/css/0.styles.21b6abcb.css" as="style"><link rel="preload" href="/Sudoku/assets/js/app.34bfeb40.js" as="script"><link rel="preload" href="/Sudoku/assets/js/3.044e7dc8.js" as="script"><link rel="prefetch" href="/Sudoku/assets/js/2.1a3627a8.js"><link rel="prefetch" href="/Sudoku/assets/js/4.e8e5b115.js"><link rel="prefetch" href="/Sudoku/assets/js/5.172968dc.js">
    <link rel="stylesheet" href="/Sudoku/assets/css/0.styles.21b6abcb.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Sudoku/" class="home-link router-link-active"><!----> <span class="site-name">Sudoku</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Sudoku/Progress/" class="nav-link router-link-exact-active router-link-active">开发历程</a></div><div class="nav-item"><a href="https://github.com/spencerwooo/Sudoku" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Sudoku/Progress/" class="nav-link router-link-exact-active router-link-active">开发历程</a></div><div class="nav-item"><a href="https://github.com/spencerwooo/Sudoku" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/Sudoku/Progress/" class="active sidebar-link">开发历程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Sudoku/Progress/#i-项目地址" class="sidebar-link">I. 项目地址</a></li><li class="sidebar-sub-header"><a href="/Sudoku/Progress/#ii-psp" class="sidebar-link">II. PSP</a></li><li class="sidebar-sub-header"><a href="/Sudoku/Progress/#iii-解题思路" class="sidebar-link">III. 解题思路</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Sudoku/Progress/#_3-1-生成数独" class="sidebar-link">3.1 生成数独</a></li><li class="sidebar-sub-header"><a href="/Sudoku/Progress/#_3-2-求解数独" class="sidebar-link">3.2 求解数独</a></li></ul></li><li class="sidebar-sub-header"><a href="/Sudoku/Progress/#iv-设计实现" class="sidebar-link">IV. 设计实现</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Sudoku/Progress/#_4-1-项目结构" class="sidebar-link">4.1 项目结构</a></li><li class="sidebar-sub-header"><a href="/Sudoku/Progress/#_4-2-代码设计" class="sidebar-link">4.2 代码设计</a></li></ul></li><li class="sidebar-sub-header"><a href="/Sudoku/Progress/#v-性能改进" class="sidebar-link">V. 性能改进</a></li><li class="sidebar-sub-header"><a href="/Sudoku/Progress/#vi-代码细节" class="sidebar-link">VI. 代码细节</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Sudoku/Progress/#_6-1-生成数独的算法-——-矩阵变换法" class="sidebar-link">6.1 生成数独的算法 —— 矩阵变换法</a></li><li class="sidebar-sub-header"><a href="/Sudoku/Progress/#_6-2-求解数独的算法-——-精确剪枝、行列块约束下的深度优先搜索算法" class="sidebar-link">6.2 求解数独的算法 —— 精确剪枝、行列块约束下的深度优先搜索算法</a></li></ul></li><li class="sidebar-sub-header"><a href="/Sudoku/Progress/#vii-项目总结" class="sidebar-link">VII. 项目总结</a></li></ul></li></ul> </div> <div class="page"> <div class="content"><h1 id="开发历程"><a href="#开发历程" aria-hidden="true" class="header-anchor">#</a> 开发历程</h1> <h2 id="i-项目地址"><a href="#i-项目地址" aria-hidden="true" class="header-anchor">#</a> I. 项目地址</h2> <div class="tip custom-block"><p class="custom-block-title">项目地址与相关链接</p> <ul><li>GitHub 项目首页：<a href="https://github.com/spencerwooo/Sudoku" target="_blank" rel="noopener noreferrer">https://github.com/spencerwooo/Sudoku<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>项目博客主页：<a href="/Sudoku/" class="router-link-active">https://spencerwoo.com/Sudoku</a></li> <li>项目开发历程主页：<a href="/Sudoku/Progress/" class="router-link-exact-active router-link-active">https://spencerwoo.com/Sudoku/Progress</a></li></ul> <p>这里是项目要求的「解决项目的心路历程和收获」等开发历程内容页面。</p></div> <h2 id="ii-psp"><a href="#ii-psp" aria-hidden="true" class="header-anchor">#</a> II. PSP</h2> <table><thead><tr><th style="text-align:center">PSP 2.1</th> <th style="text-align:center">Personal Software Progress Stages</th> <th style="text-align:center">预估耗时（分钟）</th> <th style="text-align:center">实际耗时（分钟）</th></tr></thead> <tbody><tr><td style="text-align:center">Planning</td> <td style="text-align:center">计划</td> <td style="text-align:center">60</td> <td style="text-align:center"></td></tr> <tr><td style="text-align:center">Estimate</td> <td style="text-align:center">估计这个任务需要多少时间</td> <td style="text-align:center">2500</td> <td style="text-align:center"></td></tr> <tr><td style="text-align:center">Development</td> <td style="text-align:center">开发</td> <td style="text-align:center">1500</td> <td style="text-align:center"></td></tr> <tr><td style="text-align:center">Analysis</td> <td style="text-align:center">需求分析（包括学习新技术）</td> <td style="text-align:center">500</td> <td style="text-align:center"></td></tr> <tr><td style="text-align:center">Design Spec</td> <td style="text-align:center">生成设计文档</td> <td style="text-align:center">60</td> <td style="text-align:center"></td></tr> <tr><td style="text-align:center">Design Review</td> <td style="text-align:center">设计复审（和同事审核设计文档）</td> <td style="text-align:center">30</td> <td style="text-align:center"></td></tr> <tr><td style="text-align:center">Coding Standard</td> <td style="text-align:center">代码规范（为目前的开发制定合适的规范）</td> <td style="text-align:center">30</td> <td style="text-align:center"></td></tr> <tr><td style="text-align:center">Design</td> <td style="text-align:center">具体设计</td> <td style="text-align:center">200</td> <td style="text-align:center"></td></tr> <tr><td style="text-align:center">Coding</td> <td style="text-align:center">具体编码</td> <td style="text-align:center">400</td> <td style="text-align:center"></td></tr> <tr><td style="text-align:center">Code Review</td> <td style="text-align:center">代码复审</td> <td style="text-align:center">60</td> <td style="text-align:center"></td></tr> <tr><td style="text-align:center">Test</td> <td style="text-align:center">测试（自我测试、修改代码、提交测试）</td> <td style="text-align:center">200</td> <td style="text-align:center"></td></tr> <tr><td style="text-align:center">Reporting</td> <td style="text-align:center">报告</td> <td style="text-align:center">20</td> <td style="text-align:center"></td></tr> <tr><td style="text-align:center">Test Report</td> <td style="text-align:center">测试报告</td> <td style="text-align:center">20</td> <td style="text-align:center"></td></tr> <tr><td style="text-align:center">Size Measurement</td> <td style="text-align:center">计算工作量</td> <td style="text-align:center">10</td> <td style="text-align:center"></td></tr> <tr><td style="text-align:center">Postmortem &amp; Process Improvement Plan</td> <td style="text-align:center">事后总结，并提出过程改进计划</td> <td style="text-align:center">60</td> <td style="text-align:center"></td></tr> <tr><td style="text-align:center"></td> <td style="text-align:center">合计</td> <td style="text-align:center"></td> <td style="text-align:center"></td></tr></tbody></table> <h2 id="iii-解题思路"><a href="#iii-解题思路" aria-hidden="true" class="header-anchor">#</a> III. 解题思路</h2> <p>数独是一种数学逻辑游戏，游戏由 9 × 9 个格子组成，玩家需要根据格子提供的数字推理出其他格子的数字。本次项目要求：</p> <ul><li>生成不重复的数独终局至文件，要求数独左上角数字恒为：<code>(3 + 0) % 9 + 1 = 4</code></li> <li>读取文件中的数独问题，求解并将结果输出至文件</li></ul> <h3 id="_3-1-生成数独"><a href="#_3-1-生成数独" aria-hidden="true" class="header-anchor">#</a> 3.1 生成数独</h3> <p>经过我在网上的查阅资料，我发现目前生成数独的算法一共有这样的几种：</p> <ol><li>暴力搜索 ＋ 回溯法</li> <li>矩阵变换法</li> <li>全排列平移法</li></ol> <p>首先我排除了「暴力搜索 + 回溯」的生成数独终局的方法，因为经过资料的对比，相比于另外的两种方法，暴力搜索效率低下，对于 1,000,000 个要求的数独生成数据量来说显得尤为不合适。</p> <p>另外的一种矩阵变换方法，我参考了这篇文章 - <a href="https://my.oschina.net/wangmengjun/blog/781984" target="_blank" rel="noopener noreferrer">数独终盘生成的几种方法<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。<strong>其主要思路在于选择一个初始种子数独，通过在合适范围内进行行、列与数字的随机次数的随机交换来生成我们所要的数独终局</strong>。这种方法不仅效率较高，实现比较方便，最终生成的终局两两匹配度也很低，<strong>于是我首先选择了利用矩阵变换的方法进行功能实现。</strong></p> <h3 id="_3-2-求解数独"><a href="#_3-2-求解数独" aria-hidden="true" class="header-anchor">#</a> 3.2 求解数独</h3> <p>前期的初步搜索中，我发现大多数中文资料下求解数独的方法几乎都是「回溯法」和「舞蹈链 - 精确覆盖问题」这两种算法。</p> <p>其中，解题过程我参考了：</p> <ul><li><a href="https://zhuanlan.zhihu.com/p/31865810?utm_source=qq&utm_medium=social" target="_blank" rel="noopener noreferrer">暴力算法之美：如何在 1 毫秒内解决数独问题？| 暴力枚举法+深度优先搜索 POJ 2982<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://en.wikipedia.org/wiki/Sudoku_solving_algorithms" target="_blank" rel="noopener noreferrer">Sudoku solving algorithms - Wikipedia<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://zh.wikipedia.org/wiki/%E8%88%9E%E8%B9%88%E9%93%BE" target="_blank" rel="noopener noreferrer">舞蹈链 - 维基百科<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://www.jianshu.com/p/93b52c37cc65" target="_blank" rel="noopener noreferrer">使用 Dancing Links 算法求解数独<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <p>等等资料。经过分析，我觉得对于求解数独来讲，最暴力的 <strong>深度优先搜索与回溯的结合</strong> 这种方法比较合适，在之后的实现过程我也先采用了这样的办法。</p> <h2 id="iv-设计实现"><a href="#iv-设计实现" aria-hidden="true" class="header-anchor">#</a> IV. 设计实现</h2> <p>本次项目：</p> <ul><li>我选择使用 Python 进行实现，在 Windows 平台进行代码编写，在 Windows 和 Linux 平台进行测试</li> <li>我利用 <code>git</code> 进行代码的版本控制，代码托管在 GitHub</li> <li>我利用 <code>pylint</code> 对代码进行质量分析检查，利用 <a href="https://www.codacy.com/app/spencerwooo/Sudoku?utm_source=github.com&utm_medium=referral&utm_content=spencerwooo/Sudoku&utm_campaign=Badge_Grade" target="_blank" rel="noopener noreferrer">Codacy<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 平台对代码质量进行持续分析监测</li> <li>我利用 <code>cProfile</code> 对代码进行性能分析，利用 <code>gprof2dot</code> 生成性能分析报告</li> <li>我利用 Python 内建模块 <code>unittest</code> 进行单元测试，并利用 <code>Coverage.py</code> 测试分支覆盖率等指标，并通过 Codacy API 将结果同步至 Codacy 平台持续集成</li></ul> <p>本次项目的博客：</p> <ul><li>我选择利用 <a href="https://vuepress.vuejs.org/" target="_blank" rel="noopener noreferrer">VuePress<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 生成项目博客，来记录我的开发历程</li> <li>为了部署方便，我利用 <a href="https://travis-ci.org/" target="_blank" rel="noopener noreferrer">Travis CI<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 持续集成我的博客内容，并利用 <a href="https://pages.github.com/" target="_blank" rel="noopener noreferrer">GitHub Pages<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 托管我博客的静态文件</li></ul> <h3 id="_4-1-项目结构"><a href="#_4-1-项目结构" aria-hidden="true" class="header-anchor">#</a> 4.1 项目结构</h3> <p>本次项目我托管在 GitHub，利用 <code>git</code> 进行版本控制。项目三个分支：</p> <p><img src="https://i.loli.net/2018/12/06/5c09197e3b1ff.png" alt></p> <ul><li><code>master</code> 分支托管数独主程序的源代码、单元测试与性能测试相关文件等</li> <li><code>docs</code> 分支托管博客的源代码与持续集成 CI 配置文件</li> <li><code>gh-pages</code> 分支托管博客的静态文件，GitHub Pages 在此分支进行构建</li></ul> <p>其中的主程序 <code>master</code> 分支结构与功能：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">.</span>
├── LICENSE
├── README.md
├── performance
│   ├── result.png
│   └── result.pstats
├── requirements.txt
├── sudoku
│   ├── README.md
│   ├── __init__.py
│   ├── create_sudoku.py
│   ├── main.py
│   ├── solve-me.txt
│   ├── solve_sudoku.py
│   └── sudoku.txt
└── tests
    └── README.md

3 directories, 13 files
</code></pre></div><ul><li>🐍 <code>sudoku/</code>：Python 主程序源码文件夹，程序入口为 <code>main.py</code></li> <li>🔍 <code>tests/</code>：单元测试用例</li> <li>🚀 <code>performance/</code>：性能测试结果（包括原二进制文件与生成的性能测试图鉴）</li></ul> <h3 id="_4-2-代码设计"><a href="#_4-2-代码设计" aria-hidden="true" class="header-anchor">#</a> 4.2 代码设计</h3> <div class="warning custom-block"><p class="custom-block-title">注意</p> <p>此处代码设计为最初未优化性能的版本，其中：</p> <ul><li>生成数独终局：采用了 <strong>矩阵变换算法</strong></li> <li>解决数独：采用了 <strong>未剪枝的深度优先搜索与回溯</strong> 的算法</li></ul> <p>有很大的改进空间，详见「性能改进」。</p></div> <p>项目建立了共三个文件：</p> <ul><li><code>main.py</code>：程序入口，处理输入参数、文件输出与异常情况</li> <li><code>create_sudoku.py</code>：内含类 <code>GenerateSudoku</code></li> <li><code>solve_sudoku.py</code>：内含类 <code>SolveSudoku</code></li></ul> <p>共两个类：</p> <ul><li><code>GenerateSudoku</code>:
<ul><li><code>__init__()</code>：初始化函数</li> <li><code>swap_row(row1, row2)</code>：交换合适的两行</li> <li><code>swap_col(col1, col2)</code>：交换合适的两列</li> <li><code>swap_num(num1, num2)</code>：交换随机的两个数字</li> <li><code>generate_candidate()</code>：生成最终的数独终局</li></ul></li> <li><code>SolveSudoku</code>:
<ul><li><code>__init__(sudoku_path)</code>：初始化函数，传入待解决数独文件路径</li> <li><code>solving_sudoku(sudoku)</code>：深度优先搜索解决数独问题主函数</li> <li><code>num_is_candidate(sudoku, num, row, col)</code>：判断传入数字能否填入相应的位置</li> <li><code>find_that_blank(sudoku, current)</code>：寻找剩余数独内是否还有未填入的空位</li></ul></li></ul> <p>相关的包、UML 类图如下所示：</p> <p><img src="https://i.loli.net/2018/12/07/5c0a6bc5882bc.png" alt></p> <p>数独模块的入口流程图如下所示：</p> <p><img src="https://i.loli.net/2018/12/07/5c0a75f8a00d9.png" alt></p> <p>生成数独 <code>GenerateSudoku</code> 和求解数独 <code>SolveSudoku</code> 两个模块的流程图如下所示：</p> <blockquote><p>差个图。</p></blockquote> <h2 id="v-性能改进"><a href="#v-性能改进" aria-hidden="true" class="header-anchor">#</a> V. 性能改进</h2> <p>我通过 Python 性能分析模块 <code>cProfile</code> 生成了程序的性能总览二进制文件，利用 <code>gprof2dot</code> 将性能分析报告生成图片如下所示：</p> <p><img src="https://i.loli.net/2018/12/07/5c09fa4e3ebc4.png" alt></p> <p>可以看到，针对「求解数独」这个问题，最耗时间的模块依旧是主运行模块 <code>solving_sudoku()</code> 这个方法。当然是由于算法「未剪枝的深度优先搜索与回溯」限制，这里性能瓶颈也就显现出来了。</p> <h2 id="vi-代码细节"><a href="#vi-代码细节" aria-hidden="true" class="header-anchor">#</a> VI. 代码细节</h2> <h3 id="_6-1-生成数独的算法-——-矩阵变换法"><a href="#_6-1-生成数独的算法-——-矩阵变换法" aria-hidden="true" class="header-anchor">#</a> 6.1 生成数独的算法 —— 矩阵变换法</h3> <h3 id="_6-2-求解数独的算法-——-精确剪枝、行列块约束下的深度优先搜索算法"><a href="#_6-2-求解数独的算法-——-精确剪枝、行列块约束下的深度优先搜索算法" aria-hidden="true" class="header-anchor">#</a> 6.2 求解数独的算法 —— 精确剪枝、行列块约束下的深度优先搜索算法</h3> <h2 id="vii-项目总结"><a href="#vii-项目总结" aria-hidden="true" class="header-anchor">#</a> VII. 项目总结</h2> <p>🚧 通过这个项目...</p></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">12/7/2018, 9:51:55 PM</span></div></div> <!----> </div> <!----></div></div>
    <script src="/Sudoku/assets/js/3.044e7dc8.js" defer></script><script src="/Sudoku/assets/js/app.34bfeb40.js" defer></script>
  </body>
</html>
